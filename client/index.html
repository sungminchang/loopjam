<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />

    <link rel="stylesheet" type="text/css" href="style.css" />

  </head>
  <body>
    <div id="loopNodeView">
    </div>


  <nav class="navbar navbar-default inverse">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">
          <i class="fa fa-circle-o-notch"></i> Loopjam

        </a>
      </div>
  
    </div>
  <div class="pull-right">
  <p class="navbar-text"><strong><i class="fa fa-music"></i> Tempo:</strong> </p> <span id="showTempo" class="navbar-text">120</span><p class="navbar-text">BPM</p> <input id="tempo" class="navbar-text" type="range" min="30.0" max="180.0" step="1" value="120" style="height: 20px; width: 200px" oninput="tempo = event.target.value; document.getElementById('showTempo').innerText=tempo;">

  <div class="navbar-text"><strong><i class="fa fa-times"></i> Multiplier:</strong></div>
  <select class="multiplier navbar-text ">
    <option value="2">1x</option>
    <option value="4">2x</option>
    <option value="8">4x</option>
  </select>
 
 <p class="navbar-text"><strong><i class="fa fa-clock-o"></i> Metronome:</strong></p><button class="btn btn-default navbar-btn" id="sound0" value="0">Play</button>
 </div>
  </nav>



    <!-- <h2>Recordings</h2> -->
      <!-- <ul id="recordingslist"></ul> -->


  <!-- <div class="col-md-2">
  <button class="btn btn-default">Add Sound</button>
  </div>
  <div class="col-md-10"> -->
  
      <div class="col-sm-6 col-md-4">
         <div class="loopnode1">
         </div>

         <button class="btn btn-success" id="sound1" value="1">Play</button>
         <button class="btn btn-danger record-new" value="1"><i class="fa fa-circle"></i> Record</button>


         <div id="volumeBox"> Volume: <span id="showvolume1">100</span>
           <input soundIndex="1" id="volume1" type="range" min="0.0" max="100.0" step="1" value="100" style="height: 20px; width: 200px" oninput="volume1 = event.target.value; document.getElementById('showvolume1').innerText=volume1;">
         </div>
      </div>


      <div class="col-sm-6 col-md-4">
        <div class="loopnode2">
        </div>

        <button class="btn btn-success" id="sound2" value="2">Play</button>
        <button class="btn btn-danger record-new" value="2"><i class="fa fa-circle"></i> Record</button>

        <div id="volumeBox"> Volume: <span id="showvolume2">100</span>
          <input soundIndex="2" id="volume2" type="range" min="0.0" max="100.0" step="1" value="100" style="height: 20px; width: 200px" oninput="volume2 = event.target.value; document.getElementById('showvolume2').innerText=volume2;">
        </div>
      </div>

      <div class="col-sm-6 col-md-4">
        <div class="loopnode3">
        </div>

        <button class="btn btn-success" id="sound3" value="3">Play</button>
        <button class="btn btn-danger record-new" value="3"><i class="fa fa-circle"></i> Record</button>

        <div id="volumeBox"> Volume: <span id="showvolume3">100</span>
          <input soundIndex="3" id="volume3" type="range" min="0.0" max="100.0" step="1" value="100" style="height: 20px; width: 200px" oninput="volume3 = event.target.value; document.getElementById('showvolume3').innerText=volume3;">
        </div>
      </div>

      <div class="col-sm-6 col-md-4">
        <div class="loopnode4">
        </div>

        <button class="btn btn-success" id="sound4" value="4">Play</button>
        <button class="btn btn-danger record-new" value="4"><i class="fa fa-circle"></i> Record</button>

         <div id="volumeBox"> Volume: <span id="showvolume4">100</span>
           <input soundIndex="4" id="volume4" type="range" min="0.0" max="100.0" step="1" value="100" style="height: 20px; width: 200px" oninput="volume4 = event.target.value; document.getElementById('showvolume4').innerText=volume4;">
         </div>
       </div>

      <div class="col-sm-6 col-md-4">
        <div class="loopnode5">
        </div>

        <button class="btn btn-success" id="sound5" value="5">Play</button>
        <button class="btn btn-danger record-new" value="5"><i class="fa fa-circle"></i> Record</button>

        <div id="volumeBox"> Volume: <span id="showvolume5">100</span>
          <input soundIndex="5" id="volume5" type="range" min="0.0" max="100.0" step="1" value="100" style="height: 20px; width: 200px" oninput="volume5 = event.target.value; document.getElementById('showvolume5').innerText=volume5;">
        </div>
      </div>

      <div class="col-sm-6 col-md-4">
        <div class="loopnode6">
        </div>

        <button class="btn btn-success" id="sound6" value="6">Play</button>
        <button class="btn btn-danger record-new" value="6"><i class="fa fa-circle"></i> Record</button>

        <div id="volumeBox"> Volume: <span id="showvolume6">100</span>
          <input soundIndex="6" id="volume6" type="range" min="0.0" max="100.0" step="1" value="100" style="height: 20px; width: 200px" oninput="volume6 = event.target.value; document.getElementById('showvolume6').innerText=volume6;">
        </div>
      </div>

<!--     </div> -->
  </div>
  

  
    <div id = "track"></div>
<!--     <h2>Log</h2>
    <pre id="log"></pre> -->

  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.4/js/bootstrap-select.min.js"></script>
  <!-- <script src="src/recorderMainExecution.js"></script> -->
  <script src="src/Models/LoopNodeModel.js"></script>
  <script src="src/Collections/LoopNodeCollection.js"></script>
  <script src="src/Models/TrackModel.js"></script>
  <script src="src/Views/LoopNodesView.js"></script>
  <script src="src/Views/LoopNodeEntryView.js"></script>
  <script src="src/recordmp3.js"></script>
  <script src="src/utilities.js"></script>
  <script src="src/loopnode.js"></script>
  <script src="src/bufferLoader.js"></script>
  <!-- <script src="src/audioUtility.js"></script> -->
  
  <script>
    $(function(){

      // trackOld.initialize();
      $('.selectpicker').selectpicker();

      
      var loopNode1 = new LoopNodeModel({url: "../client/audio/click.mp3", speed:2, port: 1, recordedAtBpm: 120});
      var loopNode2 = new LoopNodeModel({url: "../client/audio/metronome2.mp3", multiplier:2, port: 2, recordedAtBpm: 120});
      var loopNode3 = new LoopNodeModel({url: "../client/audio/metronome2.mp3", speed:2, port: 3, recordedAtBpm: 120});
      var loopNode4 = new LoopNodeModel({url: "../client/audio/metronome2.mp3", speed:2, port: 4, recordedAtBpm: 120});
      var loopNode5 = new LoopNodeModel({url: "../client/audio/metronome2.mp3", speed:2, port: 5, recordedAtBpm: 120});
      var loopNode6 = new LoopNodeModel({url: "../client/audio/metronome2.mp3", speed:2, port: 6, recordedAtBpm: 120});
      var loopNodesForTrack = new LoopNodeCollection( [loopNode1,
                                                      loopNode2,
                                                      loopNode3,
                                                      loopNode4,
                                                      loopNode5,
                                                      loopNode6]);
      // loopNodesForTrack.populateLoopNodes();
      // loopNodesForTrack.set('d3timer', d3timer(this shit we want to run))
      var track = new TrackModel({loopNodes: loopNodesForTrack});

      var loopNodesView = new LoopNodesView({collection: loopNodesForTrack});

      $('body').append(loopNodesView.initialRender());
      track.setCueAnimation();
    });
  </script>

  </body>

</html>